<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title> èµ„äº§æ”¶ç›Šè®¡ç®—å™¨ | æ”¯æŒäº®è‰²/æ·±è‰²ä¸»é¢˜</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

    <style>
        /* =============== ä¸»é¢˜å˜é‡ =============== */
        :root {
            --bg-primary: #ffffff;
            --card-bg: #f8f9fa;
            --text-primary: #212529;
            --text-secondary: #6c757d;
            --border-color: #dee2e6;
            --success: #28a745;
            --warning: #ffc107;
            --danger: #dc3545;
            --info: #17a2b8;
            --button-bg: #e9ecef;
            --button-hover: #dee2e6;
        }

        [data-theme="dark"] {
            --bg-primary: #0e0f18;
            --card-bg: #161a25;
            --text-primary: #f0f2f5;
            --text-secondary: #8b94a1;
            --border-color: #2d3142;
            --success: #0ecb81;
            --warning: #f8ba51;
            --danger: #ff6a7d;
            --info: #52b6ff;
            --button-bg: #1e2230;
            --button-hover: #2a2f45;
        }

        *{margin:0;padding:0;box-sizing:border-box;}
        body{
            font-family:'Segoe UI',PingFang SC,sans-serif;
            background:var(--bg-primary);
            color:var(--text-primary);
            padding:20px;
            max-width:1000px;
            margin:0 auto;
            transition:0.3s;
        }

        header{
            display:flex;
            justify-content:space-between;
            align-items:center;
            margin-bottom:24px;
        }
        h1{
            font-size:24px;
            font-weight:700;
            background:linear-gradient(90deg,var(--success),var(--info));
            -webkit-background-clip:text;
            color:transparent;
        }
        .currency-selector,.theme-toggle{
            background:var(--card-bg);
            border:1px solid var(--border-color);
            border-radius:8px;
            padding:6px 12px;
            cursor:pointer;
            display:flex;
            align-items:center;
            gap:6px;
        }

        .card{
            background:var(--card-bg);
            border:1px solid var(--border-color);
            border-radius:12px;
            padding:20px;
            margin-bottom:24px;
            transition:0.3s;
        }
        .input-group{display:flex;flex-wrap:wrap;gap:16px;margin-bottom:20px;}
        .input-item{flex:1;min-width:200px;}
        label{font-size:13px;color:var(--text-secondary);margin-bottom:6px;display:block;}
        .input-with-unit{display:flex;}
        .input-with-unit input{
            flex:1;background:var(--button-bg);
            border:1px solid var(--border-color);
            border-radius:8px 0 0 8px;
            padding:10px;font-size:16px;
        }
        .unit-label{
            background:var(--button-bg);
            border:1px solid var(--border-color);
            border-left:none;
            border-radius:0 8px 8px 0;
            padding:10px;
            min-width:50px;
            text-align:center;
        }

        .btn-calculate{
            background:var(--button-bg);
            border:1px solid var(--border-color);
            border-radius:8px;
            padding:8px 16px;
            cursor:pointer;
            font-weight:600;
            display:flex;
            align-items:center;
            gap:6px;
        }

        .section-title{font-weight:600;margin:18px 0 12px;display:flex;gap:8px;}
        .results-grid{
            display:grid;
            grid-template-columns:repeat(auto-fit,minmax(180px,1fr));
            gap:16px;
        }

        .result-card{
            background:var(--button-bg);
            padding:16px;
            border-radius:10px;
            text-align:center;
        }
        .deposit{border-top:3px solid var(--info);}
        .stock{border-top:3px solid var(--warning);}
        .crypto{border-top:3px solid var(--success);}

        .result-title{font-size:13px;color:var(--text-secondary);}
        .result-value{font-size:18px;font-weight:700;margin-top:6px;}
        .deposit .result-value{color:var(--info);}
        .stock .result-value{color:var(--warning);}
        .crypto .result-value{color:var(--success);}

        .sources{font-size:12px;color:var(--text-secondary);margin-top:20px;border-top:1px solid var(--border-color);padding-top:10px;}
    </style>
</head>
<body>

<header>
    <h1><i class="fas fa-chart-line"></i> èµ„äº§æ”¶ç›Šè®¡ç®—å™¨</h1>
    <div style="display:flex;gap:12px;">
        <div class="currency-selector" id="globalCurrencyToggle">
            <i class="fas fa-coins"></i><span id="currencyLabel">CNY</span>
        </div>
        <div class="theme-toggle" id="themeToggle">
            <i class="fas fa-sun"></i><span>äº®è‰²</span>
        </div>
    </div>
</header>

<div class="card">
    <div class="input-group">
        <div class="input-item">
            <label>å½“å‰èµ„é‡‘æ€»é¢</label>
            <div class="input-with-unit"><input id="totalFund"><div class="unit-label" id="unit-totalFund">å…ƒ</div></div>
        </div>
        <div class="input-item">
            <label>å·²æŠ•èµ„é‡‘é¢</label>
            <div class="input-with-unit"><input id="investedAmount"><div class="unit-label" id="unit-investedAmount">å…ƒ</div></div>
        </div>
    </div>
    <button class="btn-calculate" id="btnCalculate"><i class="fas fa-calculator"></i>è®¡ç®—æ”¶ç›Š</button>
</div>

<div class="card">
    <div class="section-title"><i class="fas fa-piggy-bank"></i> é“¶è¡Œå­˜æ¬¾</div>
    <div class="results-grid" id="deposit-results"></div>
    <div class="section-title"><i class="fas fa-chart-line"></i> è‚¡ç¥¨è¯åˆ¸</div>
    <div class="results-grid" id="stock-results"></div>
    <div class="section-title"><i class="fab fa-bitcoin"></i> åŠ å¯†è´§å¸</div>
    <div class="results-grid" id="crypto-results"></div>
</div>
<div class="card sources">
    <strong>æ•°æ®æ¥æºä¸è¯´æ˜ï¼š</strong>
    <ul style="margin-top: 8px; padding-left: 20px; font-size: 12px;">
        <li>ä¸­å›½å­˜æ¬¾åˆ©ç‡ (1.5%)ï¼šåŸºäº <a href="http://www.pbc.gov.cn" target="_blank">ä¸­å›½äººæ°‘é“¶è¡Œ2025å¹´åŸºå‡†åˆ©ç‡</a></li>
        <li>ç¾å›½å­˜æ¬¾åˆ©ç‡ (4.3%)ï¼š<a href="https://www.federalreserve.gov" target="_blank">ç¾è”å‚¨2025å¹´æ”¿ç­–åˆ©ç‡åŒºé—´</a></li>
        <li>æ¸¯å¸å­˜æ¬¾åˆ©ç‡ (0.5%)ï¼šå‚è€ƒ <a href="https://www.hkab.org.hk" target="_blank">é¦™æ¸¯é“¶è¡Œå…¬ä¼š2025å¹´å¹³å‡å‚¨è“„åˆ©ç‡</a></li>
        <li>èŒ…å°ã€è‹¹æœã€è‹±ä¼Ÿè¾¾ã€æ¸¯è‚¡å¹³å‡æ”¶ç›Šç‡ï¼šåŸºäº2023â€“2025ä¸‰å¹´å¤åˆå¹´åŒ–å›æŠ¥ä¼°ç®—ï¼Œæ•°æ®æ¥æº <a href="https://finance.yahoo.com" target="_blank">Yahoo Finance</a></li>
        <li>BTC å¹´åŒ–æ”¶ç›Š (70%)ï¼šåŸºäº2020â€“2025é•¿æœŸå¤åˆå›æŠ¥ï¼Œæ•°æ®æ¥æº <a href="https://www.coingecko.com" target="_blank">CoinGecko</a></li>
        <li>æ±‡ç‡æ¢ç®—ï¼š1 USD = 7.25 CNYï¼ˆ2025å¹´ä¸­é—´ä»·å‚è€ƒï¼‰</li>
    </ul>
</div>

<script>
    document.addEventListener('DOMContentLoaded',()=>{

        /* ============ é…ç½® ============ */
        let totalFundRaw = 1000000;
        let investedAmountRaw = 24000;
        let globalCurrency = 'CNY';
        const FX = 7.25;

        const RATES={
            chinaDeposit:0.015,
            hkDeposit:0.005,
            usDeposit:0.043,
            maotai:0.20,
            hkStock:0.10,
            apple:0.30,
            nvidia:0.40,
            btc:0.70
        };

        /* è¾“å…¥å›æ˜¾ */
        function updateDisplay(id,val){
            if(val>=1e8){document.getElementById(id).value=(val/1e8);document.getElementById('unit-'+id).textContent='äº¿';}
            else if(val>=1e4){document.getElementById(id).value=(val/1e4);document.getElementById('unit-'+id).textContent='ä¸‡';}
            else {document.getElementById(id).value=val;document.getElementById('unit-'+id).textContent='å…ƒ';}
        }
        updateDisplay('totalFund',totalFundRaw);
        updateDisplay('investedAmount',investedAmountRaw);

        function setupInput(id,get,set){
            const input=document.getElementById(id);
            const unit=document.getElementById('unit-'+id);
            input.addEventListener('focus',()=>{input.value=get();unit.textContent='å…ƒ';});
            input.addEventListener('blur',()=>{
                let v=parseFloat(input.value)||0;
                set(v);
                updateDisplay(id,v);
                calculate();
            });
        }
        setupInput('totalFund',()=>totalFundRaw,(v)=>totalFundRaw=v);
        setupInput('investedAmount',()=>investedAmountRaw,(v)=>investedAmountRaw=v);

        /* è´§å¸åˆ‡æ¢ */
        document.getElementById('globalCurrencyToggle').onclick=()=>{
            globalCurrency=globalCurrency==='CNY'?'USD':'CNY';
            document.getElementById('currencyLabel').textContent=globalCurrency;
            calculate();
        };

        /* ä¸»é¢˜åˆ‡æ¢ */
        const htmlEl=document.documentElement;
        const themeBtn=document.getElementById('themeToggle');
        let theme=localStorage.getItem('theme')||'light';
        htmlEl.setAttribute('data-theme',theme);
        themeBtn.onclick=()=>{
            theme=theme==='light'?'dark':'light';
            htmlEl.setAttribute('data-theme',theme);
            localStorage.setItem('theme',theme);
        };

        /* æ‰§è¡Œè®¡ç®— */
        document.getElementById('btnCalculate').onclick=calculate;
        function calculate(){
            const deposit=totalFundRaw-investedAmountRaw;
            render('deposit-results',[
                {title:'ğŸ‡¨ğŸ‡³ ä¸­å›½å­˜æ¬¾',rate:RATES.chinaDeposit,amount:deposit,currency:'CNY'},
                {title:'ğŸ‡­ğŸ‡° æ¸¯å¸å­˜æ¬¾',rate:RATES.hkDeposit,amount:deposit,currency:'CNY'},
                {title:'ğŸ‡ºğŸ‡¸ ç¾å›½å­˜æ¬¾',rate:RATES.usDeposit,amount:deposit,currency:'USD'},
            ],'deposit');

            render('stock-results',[
                {title:'ğŸ¶ èŒ…å° (Aè‚¡)',rate:RATES.maotai,amount:investedAmountRaw,currency:'CNY'},
                {title:'ğŸ‡­ğŸ‡° æ¸¯è‚¡å¹³å‡',rate:RATES.hkStock,amount:investedAmountRaw,currency:'CNY'},
                {title:'ğŸ è‹¹æœ',rate:RATES.apple,amount:investedAmountRaw,currency:'USD'},
                {title:'ğŸ® è‹±ä¼Ÿè¾¾',rate:RATES.nvidia,amount:investedAmountRaw,currency:'USD'},
            ],'stock');

            render('crypto-results',[
                {title:'â‚¿ BTC',rate:RATES.btc,amount:investedAmountRaw,currency:'USD'},
            ],'crypto');
        }

        function formatValue(val,c){
            if(globalCurrency==='CNY'){
                if(c==='USD') val*=FX;
                return (val>=10000)?(val/10000).toFixed(2)+'ä¸‡ å…ƒ':val.toFixed(2)+' å…ƒ';
            }else{
                if(c==='CNY') val/=FX;
                return '$'+val.toFixed(2);
            }
        }

        function render(id,list,cls){
            const box=document.getElementById(id);
            box.innerHTML='';
            list.forEach(item=>{
                const gain=item.amount*item.rate;
                box.innerHTML+=`
            <div class="result-card ${cls}">
                <div class="result-title">${item.title}</div>
                <div class="result-value">${formatValue(gain,item.currency)}</div>
                <div style="font-size:12px;color:var(--text-secondary)">${(item.rate*100).toFixed(1)}% å¹´åŒ–</div>
            </div>`;
            });
        }

        calculate();
    });
</script>

</body>
</html>